<%
	let url = `${config.url}/${page.path}`
	let icon = `${config.url}/favicon.ico`
	let domain = new URL(config.url).host;
%>

<%
	let descriptionContent;
	if (typeof page !== 'undefined' && page.description) {
		descriptionContent = page.description;
	} else {
		descriptionContent = config.description;
	}
%>

<!-- 编码 -->
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- 编码 -->

<!-- 标题 -->
<%
	let titleContent = config.title
	if (typeof page !== 'undefined' && page.title) {
	titleContent = `${titleContent} | ${typeof page !== 'undefined' && page.title}`;
	}
%>
<title><%= titleContent %></title>
<meta name="title" content="<%- titleContent %>" />
<!-- 标题 -->

<!-- 描述 -->
<meta name="description" content="<%- descriptionContent %>" />
<!-- 描述 -->

<!-- 关键词 -->
<%
  let keywordsContent = config.keywords;
	if (typeof page !== 'undefined' && page.keywords) {
		keywordsContent += `,${page.keywords}`;
	}
%>
<meta name="keywords" content="<%= keywordsContent  %>" />
<!-- 关键词 -->

<!-- 图标 -->
<link rel="icon" type="image/png" sizes="800x800" href="/favicon.png" />
<link rel="icon" type="image/webp" sizes="800x800" href="/favicon.webp" />
<link rel="icon" type="image/x-icon" sizes="256x256" href="/favicon.ico" />
<link rel="icon" type="image/png" sizes="180x180" href="/favicon_180x180.png" />

<link rel="apple-touch-icon" type="image/png" sizes="800x800" href="/favicon.png">
<link rel="apple-touch-icon" type="image/x-icon" sizes="256x256" href="/favicon.ico">
<link rel="apple-touch-icon" type="image/webp" sizes="800x800" href="/favicon.webp" />
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/favicon_180x180.png">
<!-- 图标 -->

<!-- 网站主题 -->
<meta name="theme-color" content="#4cc3ff">
<!-- 网站主题 -->

<!-- PWA -->
<link rel="manifest" href="/manifest.json" />
<!-- PWA -->

<!-- 屏幕适配 -->
<meta name='viewport' content='width=device-width, initial-scale=1.0 viewport-fit=cover' />
<!-- 屏幕适配 -->

<!-- Open Graph -->
<meta property='og:locale' content='zh_CN' />
<meta property='og:type' content='website' />
<meta property='og:url' content="<%- url %>" />
<meta property='og:site_name' content='科荧' />
<meta property='og:title' content="<%= titleContent %>" />
<meta property='og:description' content="<%- descriptionContent %>" />

<meta property='og:image:width' content='800' />
<meta property='og:image:height' content='800' />
<meta property='og:image:type' content='image/png' />
<meta property='og:image' content="<%- icon %>" />
<meta property='og:image:alt' content="<%- descriptionContent %>" />
<meta property='og:image:secure_url' content="<%- icon %>" />


<meta name='twitter:creator' content='锐冰' />
<meta property='twitter:url' content="<%- url %>" />
<meta name='twitter:title' content="<%= titleContent %>" />
<meta name='twitter:card' content='summary' />
<meta property='twitter:domain' content="<%- domain %>" />
<meta name='twitter:image' content="<%- icon %>" />
<meta name='twitter:description' content="<%- descriptionContent %>" />
<!-- Open Graph -->

<!-- 版权 -->
<meta name="copyright" content="Copyright © 2024 By 锐冰 @ MPL-2.0, CC BY-NC-SA-4.0">
<!-- 版权 -->

<!-- 作者 -->
<meta name="author" content="锐冰">
<!-- 作者 -->

<!-- 站点地图 -->
<link rel="sitemap" type="application/xml" title="Sitemap" href="<%= config.url %>/sitemap.xml" />
<!-- 站点地图 -->

<!-- RSS、Atom、JSON Feed -->
<link rel="alternate" type="application/rss+xml" title="RSS Feed" href="<%= config.url %>/rss.xml" />
<link rel="alternate" type="application/json" title="JSON Feed" href="<%= config.url %>/feed.json" />
<link rel="alternate" type="application/atom+xml" title="Atom Feed" href="<%= config.url %>/atom.xml" />
<!-- RSS、Atom、JSON Feed -->

<!-- 网站生成器 -->
<meta name="generator" content="hexo, webpack">
<!-- 网站生成器 -->

<!-- 基准网址 -->
<%
	let canonicalUrl = `${config.url}/${page.canonical_path}`;

	if (canonicalUrl.endsWith("index.html")) {
		canonicalUrl = canonicalUrl.slice(0, -10);
	} else {
		if (!canonicalUrl.endsWith("/")) {
			canonicalUrl += "/";
		}
	}
%>
<link rel="canonical" href="<%= canonicalUrl %>" />
<!-- 基准网址 -->

<!-- OpenSearch -->
<link rel="search" type="application/opensearchdescription+xml" href="<%= config.url %>/open_search.xml" title="科荧" />
<!-- OpenSearch -->

<!-- 许可证 -->
<link rel='license' href='MPL-2.0, CC BY-NC-SA-4.0' />
<!-- 许可证 -->

<!-- 禁用浏览器扩展 Dark Reader -->
<meta name="darkreader" content="false">
<!-- 禁用浏览器扩展 Dark Reader -->

<!-- 其他 -->
<script src="/assets/js/scifluo.bundle.js" async></script>
<link rel="stylesheet" href="/assets/css/scifluo.css" />
<!-- 其他 -->
